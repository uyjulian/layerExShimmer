LayerExShimmerのBuild方法 on VC++ 2008/2010

1. [ファイル]→[新規作成]→[プロジェクト]→
　[Win32コンソールアプリケーション]でプロジェクト作成

2. ウィザードで[DLL(D)]、[空のプロジェクト]を選択して[完了]

3. ソースファイルとヘッダーファイル、リソースファイルに以下をインポート。
　　ソースファイル：
	main.cpp ........... 付属ファイル、layerExShimmerメイン
	ncbind.cpp ......... あとは全部吉里吉里のソースコードから。
	tp_stub.cpp
　　ヘッダーファイル：
	KThreadPool.h ...... 付属ファイル、スレッドプール実装
	layerExBase.hpp
	ncb_foreach.h
	ncb_invoke.hpp
	ncbind.hpp
	tp_stub.h
　　リソースファイル
	layerExShimmer.rc .. 付属ファイル

4. プロジェクトのプロパティダイアログで、[C/C++]→[コード生成]→
　[ランタイムライブラリ]→[マルチスレッド(/MT)]を選択
	これをしないと、VC++をインストールしていない環境で、
	実行時に「MSVCR100.dllが存在しない」というエラーが出る

5. これでやっとBuild。


最適化とか
	とりあえずループ内に条件分岐があると20%くらいあっという間に
	遅くなっちゃうので、それを追い出した。ループ展開みたいで
	見栄えと頭が悪くてイヤなんだけど。あとは、
	[プロジェクト]→[プロパティ]→[構成プロパティ]→[C/C++]→
	[最適化]→[最適化]に[最大限の最適化(/Ox)]を選択。
	[最適化]→[速度またはサイズを優先]に[実行速度を優先(/Ot)]を選択。
	[コード生成]から、[拡張命令セットを有効にする]でSSE2を選択、
	[不動小数点モデル]を[Fast(/fp:fast)]にするとちょっと最適化
	できるかも。
	SSE2選択するとPen4より前の石では動かなくなるけれど、さすがに
	もう使ってる人は居ないんじゃないか、と。
	思い余って、SSE2ばりばりに。Pen4未満をばっさり切り捨てた。
	これで現在、元のコードの4倍くらいの速度で動くようにはなっている。

	0.3.0.0 からマルチスレッドに対応した。CPU(というかThread)が
	あるだけ自動で探して全部使おうとする。

ところで、VC++2008でbuildすると、最後に「layerEXShimmer.dll が実行
できませんでした」とか頭の悪いことを言うんですが、これをbuild後
実行しないようにするにはどうしたらいいんでスかね。我輩VC++とか滅多に
つつかんから知らんのです。
